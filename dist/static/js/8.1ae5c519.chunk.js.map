{"version":3,"sources":["assets/svg/loading.svg","components/ThreeDPreview/index.tsx"],"names":["_defs","_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLoading","_ref","svgRef","title","titleId","props","t","className","viewBox","xmlns","xmlnsXlink","width","height","ref","id","type","d","fill","ForwardRef","ThreeDPreviewContainer","styled","Box","ThreeDPreview","onLoad","onError","useRef","useEffect","modelViewerElement","current","Boolean","addEventListener","removeEventListener","shadow-intensity","camera-controls","auto-rotate","loading","style","ThreeDPreviewWithLoading","src","loader","useState","isLoading","setIsLoading","useCallback"],"mappings":"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","file":"static/js/8.1ae5c519.chunk.js","sourcesContent":["var _defs, _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLoading(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1632898789789,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 3300,\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 200,\n    height: 200,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", {\n    type: \"text/css\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M512 233.4976a30.55104 30.55104 0 0 1-30.59712-30.59712V63.88224A30.55616 30.55616 0 0 1 512 33.28a30.55616 30.55616 0 0 1 30.592 30.60224v139.12064c0 16.82944-13.76768 30.49472-30.592 30.49472z m-154.51136 41.41056a30.5152 30.5152 0 0 1-26.51648-15.29856L261.42208 139.15648c-8.46848-14.58688-3.46624-33.3568 11.21792-41.82016 14.58176-8.46848 33.34656-3.46624 41.81504 11.21792l69.55008 120.45824c8.46336 14.58176 3.46624 33.35168-11.21792 41.81504a30.99136 30.99136 0 0 1-15.29856 4.08064z m-113.2032 113.11616a30.99136 30.99136 0 0 1-15.29344-4.08064L108.54912 314.38336c-14.58688-8.46848-19.6864-27.13088-11.22304-41.82016a30.55616 30.55616 0 0 1 41.81504-11.22304L259.584 330.9056c14.58688 8.46848 19.68128 27.13088 11.2128 41.82016-5.60128 9.89184-15.90272 15.29856-26.51136 15.29856z m-41.40544 154.52672H63.87712A30.55616 30.55616 0 0 1 33.28 511.9488a30.55616 30.55616 0 0 1 30.59712-30.60224h139.10528a30.55616 30.55616 0 0 1 30.592 30.60224c-0.09728 16.93184-13.76256 30.60224-30.6944 30.60224z m-78.93504 224.0768a30.49472 30.49472 0 0 1-26.51648-15.29856c-8.46848-14.58176-3.46624-33.35168 11.2128-41.80992l120.448-69.56544a30.58688 30.58688 0 0 1 41.81504 11.21792c8.46848 14.58688 3.47136 33.3568-11.21792 41.81504l-120.54528 69.56544a30.35136 30.35136 0 0 1-15.19616 4.07552z m163.8912 164.11648a30.96064 30.96064 0 0 1-15.29856-4.08576c-14.58176-8.46336-19.67616-27.12576-11.21792-41.81504l69.5552-120.45312c8.46336-14.58688 27.12576-19.69152 41.81504-11.21792 14.58176 8.46336 19.6864 27.13088 11.21792 41.82016l-69.5552 120.45312a30.50496 30.50496 0 0 1-26.51648 15.29856zM512 990.72a30.55616 30.55616 0 0 1-30.59712-30.60224V821.0944a30.55104 30.55104 0 0 1 30.59712-30.59712 30.55104 30.55104 0 0 1 30.592 30.59712v139.12576c0 16.82944-13.76768 30.49984-30.592 30.49984z m224.05632-59.97568a30.50496 30.50496 0 0 1-26.51136-15.29856l-69.5552-120.45312a30.592 30.592 0 0 1 11.2128-41.82016c14.58688-8.46848 33.3568-3.47136 41.81504 11.21792l69.5552 120.45312a30.58176 30.58176 0 0 1-11.21792 41.81504 30.96064 30.96064 0 0 1-15.29856 4.08576z m163.8912-164.11648a31.04256 31.04256 0 0 1-15.29856-4.07552l-120.44288-69.56544c-14.58688-8.45824-19.67616-27.13088-11.2128-41.81504 8.46336-14.58688 27.12576-19.68128 41.81504-11.21792l120.44288 69.56544c14.58688 8.45824 19.67616 27.13088 11.2128 41.80992-5.61152 9.90208-15.90272 15.29856-26.51648 15.29856z m60.07296-224.0768h-139.008a30.5664 30.5664 0 0 1-30.59712-30.60224 30.55616 30.55616 0 0 1 30.59712-30.60224h139.11552a30.55616 30.55616 0 0 1 30.59712 30.60224c-0.11264 16.93184-13.77792 30.60224-30.70464 30.60224z m-180.41344-154.52672a30.5152 30.5152 0 0 1-26.51648-15.29856 30.58688 30.58688 0 0 1 11.21792-41.82016l120.448-69.56032c14.58176-8.46336 33.34144-3.46624 41.8048 11.22304 8.46336 14.58176 3.47136 33.35168-11.20768 41.82016l-120.44288 69.5552a30.04416 30.04416 0 0 1-15.30368 4.08064z m-113.20832-113.11616a31.06816 31.06816 0 0 1-15.29856-4.07552c-14.58176-8.46848-19.67616-27.13088-11.20768-41.81504l69.55008-120.45824c8.46848-14.58688 27.13088-19.6864 41.81504-11.21792 14.58176 8.46336 19.6864 27.12576 11.2128 41.82016l-69.55008 120.45312c-5.61152 9.89184-15.90784 15.29344-26.5216 15.29344z\",\n    fill: \"#333333\",\n    \"p-id\": 3301\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLoading);\nexport default __webpack_public_path__ + \"static/media/loading.be92a204.svg\";\nexport { ForwardRef as ReactComponent };","import { Box } from '@chakra-ui/react'\nimport styled from '@emotion/styled'\nimport '@google/model-viewer'\nimport { useCallback, useEffect, useRef, useState } from 'react'\nimport { ReactComponent as ThreeDLoadingSvg } from '../../assets/svg/loading.svg'\n\ninterface ThreeDPreviewProps {\n  src: string\n  poster?: string\n  reveal?: 'auto' | 'interaction' | 'manual'\n  className?: string\n  style?: React.CSSProperties\n  onClick?: React.EventHandler<React.SyntheticEvent>\n  onLoad?: () => void\n  onError?: <T>(error: T) => void\n}\n\nconst ThreeDPreviewContainer = styled(Box)`\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  .three-d-loading {\n    width: 100px;\n    height: 100px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-left: -50px;\n    margin-top: -50px;\n    animation: three-d-loading 1.5s infinite linear;\n  }\n\n  @keyframes three-d-loading {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`\n\nconst ThreeDPreview: React.FC<ThreeDPreviewProps> = ({\n  onLoad,\n  onError,\n  ...props\n}) => {\n  const ref = useRef<any>()\n  useEffect(() => {\n    const modelViewerElement = ref.current\n    if (Boolean(onLoad) && Boolean(modelViewerElement)) {\n      modelViewerElement.addEventListener('load', onLoad)\n    }\n    return () => {\n      if (Boolean(onLoad) && Boolean(modelViewerElement)) {\n        modelViewerElement.removeEventListener('load', onLoad)\n      }\n    }\n  }, [onLoad])\n\n  useEffect(() => {\n    const modelViewerElement = ref.current\n    if (Boolean(onError) && Boolean(modelViewerElement)) {\n      modelViewerElement.addEventListener('error', onError)\n    }\n    return () => {\n      if (Boolean(onError) && Boolean(modelViewerElement)) {\n        modelViewerElement.removeEventListener('error', onError)\n      }\n    }\n  }, [onError])\n\n  return (\n    <model-viewer\n      {...props}\n      shadow-intensity=\"1\"\n      camera-controls\n      auto-rotate\n      loading=\"lazy\"\n      style={{\n        width: '100%',\n        height: '100%',\n      }}\n      ref={ref}\n    />\n  )\n}\n\nconst ThreeDPreviewWithLoading: React.FC<{\n  src: string\n  onError?: () => void\n  loader?: string\n}> = ({ src, onError, loader }) => {\n  const [isLoading, setIsLoading] = useState(true)\n  useEffect(() => {\n    setIsLoading(Boolean(src))\n  }, [src])\n\n  const onLoad = useCallback(() => {\n    setIsLoading(false)\n  }, [])\n\n  return (\n    <ThreeDPreviewContainer>\n      {src ? (\n        <ThreeDPreview src={src} onLoad={onLoad} onError={onError} />\n      ) : null}\n      {isLoading\n        ? loader ?? <ThreeDLoadingSvg className=\"three-d-loading\" />\n        : null}\n    </ThreeDPreviewContainer>\n  )\n}\n\nexport default ThreeDPreviewWithLoading\n"],"sourceRoot":""}