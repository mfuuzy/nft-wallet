{"version":3,"sources":["views/PDFViewer/index.tsx"],"names":["options","cMapUrl","cMapPacked","Container","styled","div","PDFViewer","pdfjs","GlobalWorkerOptions","workerSrc","useState","numPages","setNumPages","url","useRouteQuery","useEffect","metaViewPort","document","querySelector","setAttribute","className","file","decodeURIComponent","onLoadSuccess","Array","from","el","index","pageNumber"],"mappings":"2VAOMA,EAAU,CACdC,QAAS,SACTC,YAAY,GAGRC,EAAYC,IAAOC,IAAV,2EAAGD,CAAH,8fA8BA,SAASE,IACtBC,IAAMC,oBAAoBC,UAAY,qBADJ,MAEFC,mBAAS,MAFP,mBAE3BC,EAF2B,KAEjBC,EAFiB,KAG5BC,EAAMC,YAAc,MAAO,IAoBjC,OAdAC,qBAAU,WACR,IAAMC,EAAeC,SAASC,cAAc,yBAK5C,OAJY,OAAZF,QAAY,IAAZA,KAAcG,aACZ,UACA,yCAEK,WACO,OAAZH,QAAY,IAAZA,KAAcG,aACZ,UACA,iFAGH,IAGD,cAAChB,EAAD,UACE,qBAAKiB,UAAU,MAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,2BAAf,SACE,cAAC,IAAD,CACEC,KAAMC,mBAAmBT,GACzBU,cAzBZ,YAAmD,IAAlBZ,EAAiB,EAAjBA,SAC/BC,EAAYD,IAyBFX,QAASA,EAHX,SAKGwB,MAAMC,KAAK,IAAID,MAAMb,IAAW,SAACe,EAAIC,GAAL,OAC/B,cAAC,IAAD,CAAgCC,WAAYD,EAAQ,GAApD,eAAmBA,EAAQ","file":"static/js/5.477db264.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Document, Page, pdfjs } from 'react-pdf/dist/esm/entry.webpack'\nimport styled from 'styled-components'\nimport { useRouteQuery } from '../../hooks/useRouteQuery'\n\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css'\n\nconst options = {\n  cMapUrl: 'cmaps/',\n  cMapPacked: true,\n}\n\nconst Container = styled.div`\n  overflow-x: hidden;\n  .pdf__container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .pdf__container__load {\n    color: white;\n  }\n  .pdf__container__document .react-pdf__Document {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .pdf__container__document .react-pdf__Page {\n    max-width: calc(100% - 2em);\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);\n    margin: 1em;\n  }\n  .pdf__container__document .react-pdf__Page canvas {\n    max-width: 100%;\n    height: auto !important;\n  }\n  .pdf__container__document .react-pdf__message {\n    padding: 20px;\n    color: white;\n  }\n`\n\nexport default function PDFViewer() {\n  pdfjs.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js'\n  const [numPages, setNumPages] = useState(null)\n  const url = useRouteQuery('url', '')\n\n  function onDocumentLoadSuccess({ numPages }: any) {\n    setNumPages(numPages)\n  }\n\n  useEffect(() => {\n    const metaViewPort = document.querySelector(\"meta[name='viewport']\")\n    metaViewPort?.setAttribute(\n      'content',\n      'width=device-width, initial-scale=1.0'\n    )\n    return () => {\n      metaViewPort?.setAttribute(\n        'content',\n        'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no'\n      )\n    }\n  }, [])\n\n  return (\n    <Container>\n      <div className=\"pdf\">\n        <div className=\"pdf__container\">\n          <div className=\"pdf__container__document\">\n            <Document\n              file={decodeURIComponent(url)}\n              onLoadSuccess={onDocumentLoadSuccess}\n              options={options}\n            >\n              {Array.from(new Array(numPages), (el, index) => (\n                <Page key={`page_${index + 1}`} pageNumber={index + 1} />\n              ))}\n            </Document>\n          </div>\n        </div>\n      </div>\n    </Container>\n  )\n}\n"],"sourceRoot":""}